<div id="app">
  <v-app class="mx-0 my-1">
    <div>
      <v-toolbar flat color="grey">
        <v-toolbar-title>Skill Bill</v-toolbar-title>
        <v-spacer></v-spacer>

      <!----------- SEARCH BAR                      ------------------------------------------------------------>

        <v-layout align-center justify-end >

          <v-flex xs12 sm6 md3 ml-0 mr-5>
            <v-text-field v-model="search"
                          append-icon="search"
                          clearable
                          label="Search"
                          single-line
                          box
                          hide-details>
            </v-text-field>

          </v-flex>

      <!----------- BATONY: SELECTED, RESET i EMAIL ------------------------------------------------------------>

            <v-btn @click="onSelected" color="primary" dark class="mt-3">Selected</v-btn>
            <v-btn @click="onResetSelected" color="primary" dark class="mt-3">Reset</v-btn>
            <v-btn @click="onEmail" color="primary" dark class="mt-3">Email</v-btn>
        </v-layout>

      <!----------- NEW DEV MODAL i BATON NEW DEV   ------------------------------------------------------------>
          <v-dialog v-model="dialog" max-width="500px">
            <v-btn  @click="onNewDev" slot="activator" color="primary" dark class="mt-3 mr-0">New Dev</v-btn>

            <v-card>
              <v-card-title>
                <span class="headline">{{ formTitle }}</span>
              </v-card-title>

              <v-card-text>
                <v-container grid-list-md>
                  <v-layout wrap>

                    <v-flex xs12 sm6 md4>
                      <v-text-field v-model="editedItem.first" label="First"></v-text-field>
                    </v-flex>

                    <v-flex xs12 sm6 md4>
                      <v-text-field v-model="editedItem.last" label="Last"></v-text-field>
                    </v-flex>

                    <v-flex xs12 sm6 md4>
                      <v-select v-model="editedItem.title" :items="title" @change="onNewTitle" label="Title" standard class="filters" clearable dense> </v-select>
                    </v-flex>

                    <v-flex xs12 sm6 md4>
                      <v-select v-model="editedItem.skill_1" :items="skills" @change="onNewSkill_1" label="Skill 1" standard class="filters" clearable dense> </v-select>
                    </v-flex>


                    <v-flex xs12 sm6 md4>
                      <v-select v-model="editedItem.rank_1" :items="ranks" @change="onRank_1" label="Rank 1" standard class="filters" clearable dense></v-select>
                    </v-flex>

                    <v-flex xs12 sm6 md4>
                      <v-select v-model="editedItem.skill_2" :items="skills" @change="onNewSkill_2" label="Skill 2" standard class="filters" clearable dense> </v-select>
                    </v-flex>

                    <v-flex xs12 sm6 md4>
                      <v-select v-model="editedItem.rank_2" :items="ranks" @change="onRank_2" label="Rank 2" standard class="filters" clearable dense></v-select>
                    </v-flex>

                    <v-flex xs12 sm6 md4>
                      <v-select v-model="editedItem.skill_3" :items="skills" @change="onNewSkill_3" label="Skill 3" standard class="filters" clearable dense> </v-select>
                    </v-flex>

                    <v-flex xs12 sm6 md4>
                      <v-select v-model="editedItem.rank_3" :items="ranks" @change="onRank_3" label="Rank 3" standard class="filters" clearable dense></v-select>
                    </v-flex>

                  </v-layout>
                </v-container>
              </v-card-text>

              <v-card-actions>
                <v-spacer></v-spacer>
                <v-btn color="blue darken-1" flat @click="onNewDevClose">Cancel</v-btn>
                <v-btn color="blue darken-1" flat @click="onNewDevSave">Save</v-btn>
              </v-card-actions>

            </v-card>
          </v-dialog>

      <!----------- CALENDAR MODAL                  ------------------------------------------------------------>

        <v-dialog v-model="calendar"
                  color="blue"
                  header-color="primary"
                  landscape="true"
                  max-width="320px">
          <!-- <v-btn  @click="onCalendar" slot="activator" color="primary" dark class="mt-3 mr-0">Calendar</v-btn> -->
          <v-card>
            <v-card-title>
              <h3 id="calendar_heading">#{{ devId }}&nbsp;&nbsp;&nbsp;&nbsp;{{ devFirst }} {{ devLast }} </h3>
              <v-date-picker v-model="picker"
                             :landscape="landscape"
                             :reactive="reactive"
                             :allowed-dates="allowedDates"
                             multiple
                             min="2019-01-15"
                             max="2020-12-31"
                             >

              </v-date-picker>
            </v-card-title>

            <v-card-actions>
              <v-spacer></v-spacer>
              <v-btn color="blue darken-1" flat @click="onCalendarClose">Cancel</v-btn>
              <v-btn color="blue darken-1" flat @click="onCalendarSave">Save</v-btn>
            </v-card-actions>

          </v-card>
        </v-dialog>

        </v-toolbar>
      <!----------- SELECTY SKILL i RANK            ------------------------------------------------------------>
        <div >
        <v-layout class="filters-row" >
          <div style="width: 230px"></div>

          <v-flex xs12 sm1 d-flex offset-xs3>
            <v-select v-model="skill_1" :items="skills" @change="onSkill_1" label="Skill 1" standard class="filters" clearable dense> </v-select>
          </v-flex>

          <v-flex xs12 sm1 d-flex ml-2>
            <v-select v-model="rank_1" :items="ranks" @change="onRank_1" label="Rank 1" standard class="filters" clearable dense></v-select>
          </v-flex>

          <v-flex xs12 sm1 d-flex ml-2>
            <v-select v-model= "skill_2" :items="skills"@change="onSkill_2" label="Skill 2" standard class="filters" clearable dense></v-select>
          </v-flex>

          <v-flex xs12 sm1 d-flex ml-2>
            <v-select v-model="rank_2" :items="ranks" @change="onRank_2" label="Rank 2" standard class="filters" clearable dense></v-select>
          </v-flex>

          <v-flex xs12 sm1 d-flex ml-2>
            <v-select v-model="skill_3" :items="skills" @change="onSkill_3" label="Skill 3" standard class="filters" clearable dense></v-select>
          </v-flex>

          <v-flex xs12 sm1 d-flex ml-2 mr-0>
            <v-select v-model="rank_3" :items="ranks" @change="onRank_3" label="Rank 3" standard class="filters" clearable dense></v-select>
          </v-flex>

      <!----------- BATONY: SEARCH i CLEAR          ------------------------------------------------------------>

          <v-btn @click="onSearch" color="primary" dark class="mt-3 ml-0">Search</v-btn>
          <v-btn @click="onClear" color="primary" dark class="mt-3 mr-4">Clear</v-btn>

        </v-layout>
        </div>

      <!----------- DATA TABLE                      ------------------------------------------------------------>

        <v-data-table :headers="headers"
                      :items="devs"
                      :search="search"
                      :rows-per-page-items="rowsPerPageItems"
                      :pagination.sync="pagination"
                      :loading="loading"
                      v-model="selected"
                      class="elevation-6"
                      dark>

          <template slot="items" slot-scope="props">
            <tr @dblclick="onTableRow(props.item)">
              <td>
                <v-checkbox v-model="props.selected"
                            primary
                            hide-details>
                </v-checkbox>
              </td>

              <td class="text-xs-left body-2">{{ props.item.id }}</td>
              <td class="text-xs-left body-2">{{ props.item.title }}</td>
              <td class="text-xs-left body-2">{{ props.item.first }}</td>
              <td class="text-xs-left body-2">{{ props.item.last }}</td>
              <td class="text-xs-left body-2">{{ props.item.skill_1 }}</td>
              <td class="text-xs-left body-2">{{ props.item.rank_1 }}</td>
              <td class="text-xs-left body-2">{{ props.item.skill_2 }}</td>
              <td class="text-xs-left body-2">{{ props.item.rank_2 }}</td>
              <td class="text-xs-left body-2">{{ props.item.skill_3 }}</td>
              <td class="text-xs-left body-2">{{ props.item.rank_3 }}</td>

              <td class="text-xs-left body-2">
                <v-img :src = "props.item.picture" aspect-ratio="1.3"></v-img>
              </td>

              <td class="justify-center layout px-0">
                <v-icon small
                        class="mr-2"
                        @click="editItem(props.item)">
                        edit
                </v-icon>

                <v-icon small
                        @click="deleteItem(props.item)">
                        delete
                </v-icon>
              </td>

            </tr>
          </template>

          <v-alert slot="no-results" :value="true" color="error" icon="warning">
            Your search for "{{ search }}" found no results.
          </v-alert>

        </v-data-table>

      </div>
  </v-app>
</div>



